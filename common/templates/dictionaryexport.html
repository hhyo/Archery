<html>
    {% load i18n %}
    <meta charset="utf-8">
    <title>{% trans "Database Table Structure Documentation" %}</title>
    <style>
        body,td,th {font-family: Arial, sans-serif; font-size:12px;}
        table,h1,p{width:960px;margin:0px auto;}
        table{border-collapse:collapse;border:1px solid #CCC;background:#efefef;}
        table caption{text-align:left; background-color:#fff; line-height:2em; font-size:14px; font-weight:bold; }
        table th{text-align:left; font-weight:bold;height:26px; line-height:26px; font-size:12px; border:1px solid #CCC;padding-left:5px;}
        table td{height:20px; font-size:12px; border:1px solid #CCC;background-color:#fff;padding-left:5px;}
    </style>
    {% load format_tags %}
    <body>
    <h1 style="text-align:center;">{{ db_name }} {% trans "Data Dictionary" %} ({% trans "Total" %} {{ tables|length }} {% trans "tables" %})</h1>
    <p style="text-align:center;margin:20px auto;">{% trans "Generated at:" %} {{ export_time }}</p>
    {% for tb in tables %}
        <table border="1" cellspacing="0" cellpadding="0" align="center">
            <caption>{% trans "Table Name:" %} {{ tb.TABLE_INFO.TABLE_NAME }}</caption>
            <caption>{% trans "Comment:" %} {{ tb.TABLE_INFO.TABLE_COMMENT }}</caption>
            <tbody>
            <tr>
                {% for key_dict in tb.ENGINE_KEYS %}
                    <th>{{ key_dict.value }}</th>
                {% endfor %}
            </tr>
            {% for col in tb.COLUMNS %}
                <tr>
                    {% for key_dict in tb.ENGINE_KEYS %}
                        <td>{{ col|key_value:key_dict.key }}</td>
                    {% endfor %}
                </tr>
            {% endfor %}
            </tbody>
        </table></br>
    {% endfor %}
    </body>
</html>
